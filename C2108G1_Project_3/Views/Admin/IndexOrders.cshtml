@using C2108G1_Project_3.Repository
@using C2108G1_Project_3.Models
@inject IOrdersrepository orderRepository

@{
    Layout = "~/Views/Shared/_LayoutAdmin1.cshtml";
    var orders = await orderRepository.GetOrdersByKeyword("");
}
<!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="page-breadcrumb bg-white">
                <div class="row align-items-center">
                    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                        <h4 class="page-title">Flavors Table</h4>
                    </div>

                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="white-box">

                            <form action="CreateOrUpdateOrder">
                                <h3 class="box-title">Table</h3>
                                <button class="btn btn-outline-secondary">Add New</button>
                            </form>


                            <div class="table-responsive ">

                                <table class="table text-nowrap">
                                    <thead>
                                        <tr>
                                            <th class="border-top-0">#</th>
                                            <th class="border-top-0">Name</th>
                                            <th class="border-top-0">User</th>
                                            <th class="border-top-0">CreatedTime</th>
                                            <th class="border-top-0">Books</th>
                                            <th class="border-top-0">Cost</th>
                                            <th class="border-top-0">Status</th>




                                        </tr>
                                    </thead>
                                    <tbody>
                                @foreach (var order in orders)
                                {
                                         <tr>
                                             <td>@order.id</td>
                                             <td>@order.Name</td>
                                             <td>@order.Users.UserName</td>
                                             <td>@order.CreatedTime</td>
                                             <td>@order.Books.bookName</td>
                                             <td>@order.Cost</td>
                                             <td>@order.OrderStatus</td>
                                             <td><a href="CreateOrUpdateOrder/@order.id"><button class="btn btn-warning">Edit</button></a></td>
                                             <form method="post" action="/Orders/DeleteOrders" onsubmit="return confirm('Are you sure you want to delete this orders?');">
                                                 <td><input type="hidden" name="id" value="@order.id" />
                                                 <button type="submit" class="btn btn-danger">Delete</button></td>
                                             </form>
                                         </tr>
                                }

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->